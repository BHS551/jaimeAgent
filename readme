# Jaime Agent

**Jaime** is a lightweight, functionâ€‘calling agent that leverages OpenAIâ€™s GPTâ€‘4oâ€‘mini (or any compatible Chat Completion model) to read, analyse and update source files *and* issue safe shell commands on your local machine.

---

## âœ¨ Features

| Capability         | Details                                                                                           |
| ------------------ | ------------------------------------------------------------------------------------------------- |
| Autonomous editing | Reads / writes any UTFâ€‘8 text file (`read_file`, `write_file`).                                   |
| Command execution  | Runs whitelisted shell commands through `run_cmd` (you can extend or sandbox).                    |
| Twoâ€‘phase safety   | 1ï¸âƒ£ **Validation** â€“ model plans and validates; 2ï¸âƒ£ **Execution** â€“ function calls dispatched.    |
| Memory             | Flat JSON log (`session_memory.json`) of each exchange â€“ reset on every run for full determinism. |
| Extensible tools   | Add any function (tool) by editing `function_schema.py` and dropping a handler into `handlers/`.  |

---

## ğŸ—ï¸ Project Layout

```text
.
â”œâ”€â”€ jaime_agent.py          # CLI entryâ€‘point
â”œâ”€â”€ client.py               # Core driver (context, memory, 2â€‘phase loop)
â”œâ”€â”€ config.py               # API key & model selection
â”œâ”€â”€ function_schema.py      # Declarative tool list (JSON schema style)
â”œâ”€â”€ prevalidations.py       # Optional hard validation rules
â”œâ”€â”€ session_memory.json     # Conversation memory (autoâ€‘reset each run)
â””â”€â”€ handlers/               # One module per tool
    â”œâ”€â”€ append_json.py
    â”œâ”€â”€ dispatch.py         # Generic dispatcher â†’ handler
    â”œâ”€â”€ read_file.py
    â”œâ”€â”€ write_file.py
    â””â”€â”€ ... (add yours here)
```

---

## ğŸš€ Quickstart

```bash
# 1. Clone & create venv (Python â‰¥â€¯3.10 recommended)
git clone https://github.com/yourâ€‘org/jaimeâ€‘agent.git
cd jaimeâ€‘agent
python -m venv .venv && source .venv/bin/activate  # windows: .venv\Scripts\activate

# 2. Install deps
pip install -r requirements.txt  # or just: pip install openai

# 3. Set your OpenAI key (and optional model override)
export OPENAI_API_KEY="skâ€‘..."
export OPENAI_MODEL="gptâ€‘4o-mini"  # default is already this

# 4. Run Jaime
python jaime_agent.py
```

Once inside the REPL, try:

```text
> read_file ./README.md
> write_file ./todo.md "â€¢ add unit tests\n"
> run_cmd "pytest -q"
```

---

## ğŸ› ï¸ Adding a New Tool

1. **Define it** in `function_schema.py`:

```python
{
  "name": "list_dir",
  "description": "Return a recursive listing of a directory",
  "parameters": {
    "type": "object",
    "properties": {
      "path": {"type": "string"}
    },
    "required": ["path"]
  }
}
```

2. **Implement** `handlers/list_dir.py`:

```python
def handle(path: str):
    import pathlib, json
    files = [str(p) for p in pathlib.Path(path).rglob("*")]
    return json.dumps(files, indent=2)
```

Thatâ€™s it â€“ the dispatcher picks it up automatically.

---

## ğŸ”’ Security Tips

* **Sandbox commands** â€“ run inside Docker/Firecracker or keep a strict allowâ€‘list.
* **Version control** â€“ commit before letting Jaime overwrite files.
* **Key hygiene** â€“ never hardâ€‘code your `OPENAI_API_KEY`; use envâ€‘vars or a secrets manager.

---

## ğŸ—ºï¸ Roadmap

* [ ] Configurable memory retention (days / size)
* [ ] Git integration tool (`git_diff`, `git_commit`)
* [ ] VSÂ Code extension wrapper
* [ ] Web dashboard with LangSmith tracing

---

## ğŸ“„ License

MIT â€“ see `LICENSE` for details.

---

*Made with â™¥ and large language models, JuneÂ 2025.*
